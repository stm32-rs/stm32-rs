# This file is a complete implementation of the DFSDM peripheral found
# on RM0436 devices. This file demonstrates the _newperipheral
# directive (kind of similar to the existing _add) and including
# interrupts and registers defined in other files. Rather than
# included another file in its entirety, this file selects specific
# elements from other files. This is because the other files are
# organized such that they include all of the variations of a given
# cluster/register/interrupt/etc., and each dfsdm_RMxxxx.yaml file
# only needs the variations that match the description in its RM. The
# registers block pulls from both clusters and registers defined in
# other files.

_newperipheral:
  name: DFSDM
  description: Digital filter for sigma delta modulators
  baseAddress: 0x4400D000
  addressBlock:
    offset: 0x0
    size: 0x800
    useage: registers
  interrupts:
    from: dfsdm_interrupts.yaml:DFSDM_FLT0_110
    from: dfsdm_interrupts.yaml:DFSDM_FLT1_111
    from: dfsdm_interrupts.yaml:DFSDM_FLT2_112
    from: dfsdm_interrupts.yaml:DFSDM_FLT3_113
    from: dfsdm_interrupts.yaml:DFSDM_FLT4_115
    from: dfsdm_interrupts.yaml:DFSDM_FLT5_126
  registers:
    from: clusters/dfsdm_v1_clusters_CHy.yaml:8CH_ADC_DLY
    from: clusters/dfsdm_v1_clusters_FLTx.yaml:FLTx_8CH_6FLT # Not implemented yet
    from: registers/dfsdm_v1_registers_ID_common.yaml:HWCFGR
    from: registers/dfsdm_v1_registers_ID_common.yaml:VERR
    from: registers/dfsdm_v1_registers_ID_common.yaml:IPIDR
    from: registers/dfsdm_v1_registers_ID_common.yaml:SIDR

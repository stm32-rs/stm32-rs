# RCC peripheral
# Applicable to STM32L5

# This is derived from rcc_common.yaml.  rcc_common.yaml
# does not cleanly apply to STM32L5

RCC:
  CR:
    CSSON:
      "Off": [0, "Clock security system disabled (clock detector OFF)"]
      "On": [1, "Clock security system enable (clock detector ON if the HSE is ready, OFF if not)"]
    HSEBYP:
      NotBypassed: [0, "HSE crystal oscillator not bypassed"]
      Bypassed: [1, "HSE crystal oscillator bypassed with external clock"]
    "*RDY":
      _read:
        NotReady: [0, "Clock not ready"]
        Ready: [1, "Clock ready"]
    HSION,HSEON,PLLON,PLLI2SON,PLLSAION:
      "Off": [0, "Clock Off"]
      "On": [1, "Clock On"]
  CFGR:
    MCOPRE:
      Div1: [0, "MCO divided by 1"]
      Div2: [1, "MCO divided by 2"]
      Div4: [2, "MCO divided by 4"]
      Div8: [3, "MCO divided by 8"]
      Div16: [4, "MCO divided by 16"]
    MCOSEL:
      None: [0, "MCO output disabled, no clock on MCO"]
      SYSCLK: [1, "SYSCLK system clock selected"]
      MSI: [2, "MSI clock selected"]
      HSI: [3, "HSI clock selected"]
      HSE: [4, "HSE clock selected"]
      PLL: [5, "Main PLL clock selected"]
      LSI: [6, "LSI clock selected"]
      LSE: [7, "LSE clock selected"]
      HSI48: [8, "Internal HSI48 clock selected"]
    STOPWUCK:
      MSI: [0, "MSI oscillator selected as wakeup from stop clock and CSS backup clock"]
      HSI: [1, "HSI oscillator selected as wakeup from stop clock and CSS backup clock"]
    PPRE*:
      Div1: [0, "HCLK not divided"] # Same for [0, 8]
      Div2: [4, "HCLK divided by 2"]
      Div4: [5, "HCLK divided by 4"]
      Div8: [6, "HCLK divided by 8"]
      Div16: [7, "HCLK divided by 16"]
    HPRE:
      Div1: [0, "SYSCLK not divided"] # Same for [0, 7]
      Div2: [8, "SYSCLK divided by 2"]
      Div4: [9, "SYSCLK divided by 4"]
      Div8: [10, "SYSCLK divided by 8"]
      Div16: [11, "SYSCLK divided by 16"]
      Div64: [12, "SYSCLK divided by 64"]
      Div128: [13, "SYSCLK divided by 128"]
      Div256: [14, "SYSCLK divided by 256"]
      Div512: [15, "SYSCLK divided by 512"]
    SWS:
      _read:
        MSI: [0, "MSI oscillator used as system clock"]
        HSI: [1, "HSI oscillator used as system clock"]
        HSE: [2, "HSE used as system clock"]
        PLL: [3, "PLL used as system clock"]
    SW:
      MSI: [0, "MSI selected as system clock"]
      HSI: [1, "HSI selected as system clock"]
      HSE: [2, "HSE selected as system clock"]
      PLL: [3, "PLL selected as system clock"]
  "A?B?RSTR,A?BRSTR,A?B?RSTR?,A?BRSTR?":
    "*RST":
      Reset: [1, "Reset the selected module"]
  "A?B?ENR,A?BENR,A?B?ENR?,A?BENR?":
    "*EN":
      Disabled: [0, "The selected clock is disabled"]
      Enabled: [1, "The selected clock is enabled"]
  BDCR:
    LSCOSEL:
      LSI: [0, LSI clock selected"]
      LSE: [1, "LSE clock selected"]
    LSCOEN:
      Disabled: [0, "LSCO disabled"]
      Enabled: [1, "LSCO enabled"]
    BDRST:
      Disabled: [0, "Reset not activated"]
      Enabled: [1, "Reset the entire RTC domain"]
    RTCEN:
      Disabled: [0, "RTC clock disabled"]
      Enabled: [1, "RTC clock enabled"]
    LSESYSRDY:
      _read:
        NotReady: [0, "LSESYS clock not ready"]
        Ready: [1, "LSESYS clock ready"]
    RTCSEL:
      NoClock: [0, "No clock"]
      LSE: [1, "LSE oscillator clock used as RTC clock"]
      LSI: [2, "LSI oscillator clock used as RTC clock"]
      HSE: [3, "HSE oscillator clock divided by a prescaler used as RTC clock"]
    LSESYSEN:
      Disabled: [0, "LSESYS only enabled when requested by a peripheral or system function"]
      Enabled: [1, "LSESYS enabled always generated by RCC"]
    LSECSSD:
      _read:
        NoFailure: [0, "No failure detected on LSE (32 kHz oscillator)"]
        Failure: [1, "Failure detected on LSE (32 kHz oscillator)"]
    LSECSSON:
      "Off": [0, "CSS on LSE (32 kHz external oscillator) OFF"]
      "On": [1, "CSS on LSE (32 kHz external oscillator) ON"]
    LSEDRV:
      Lower: [0, "'Xtal mode' lower driving capability"]
      MediumLow: [1, "'Xtal mode' medium low driving capability"]
      MediumHigh: [2, "'Xtal mode' medium high driving capability"]
      Higher: [3, "'Xtal mode' higher driving capability"]
    LSEBYP:
      NotBypassed: [0, "LSE crystal oscillator not bypassed"]
      Bypassed: [1, "LSE crystal oscillator bypassed with external clock"]
    LSERDY:
      _read:
        NotReady: [0, "LSE oscillator not ready"]
        Ready: [1, "LSE oscillator ready"]
    LSEON:
      "Off": [0, "LSE oscillator Off"]
      "On": [1, "LSE oscillator On"]
  CSR:
    "*RSTF":
      _read:
        NoReset: [0, "No reset has occured"]
        Reset: [1, "A reset has occured"]
    RMVF:
      _write:
        Clear: [1, "Clears the reset flag"]
    LSIRDY:
      _read:
        NotReady: [0, "LSI oscillator not ready"]
        Ready: [1, "LSI oscillator ready"]
    LSION:
      "Off": [0, "LSI oscillator Off"]
      "On": [1, "LSI oscillator On"]

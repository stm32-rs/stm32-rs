# ADC v3 with L4+ specific fields

_include:
  - adc_v3.yaml
  - adc_v3_common.yaml
  - adc_v3_common_l4+.yaml


ADC?:
  CR:
    DEEPPWD:
      NotDeepPowerDown: [ 0, "ADC not in Deep-power down" ]
      DeepPowerDown: [ 1, "ADC in Deep-power-down (default reset state)" ]
    ADVREGEN:
      Disabled: [ 0, "ADC Voltage regulator disabled" ]
      Enabled: [ 1, "ADC Voltage regulator enabled" ]

  CFGR:
    ALIGN:
      Right: [ 0, "Right alignment" ]
      Left: [ 1, "Left alignment" ]
    RES:
      Bits12: [ 0, "12-bit" ]
      Bits10: [ 1, "10-bit" ]
      Bits8: [ 2, "8-bit" ]
      Bits6: [ 3, "6-bit" ]
    DFSDMCFG:
      Disabled: [ 0, "DFSDM mode disabled" ]
      Enabled: [ 1, "DFSDM mode enabled" ]
    DMACFG:
      OneShot: [ 0, "DMA One Shot mode selected" ]
      Circular: [ 1, "DMA Circular mode selected" ]
    DMAEN:
      Disabled: [ 0, "DMA disabled" ]
      Enabled: [ 1, "DMA enabled" ]

  CFGR2:
    ROVSM:
      ContinuedMode: [ 0, "When injected conversions are triggered, the oversampling is temporary stopped and continued after the injection sequence (oversampling buffer is maintained during injected sequence)" ]
      ResumedMode: [ 1, "When injected conversions are triggered, the current oversampling is aborted and resumed from start after the injection sequence (oversampling buffer is zeroed by injected sequence start)" ]
    TROVS:
      All: [ 0, "All oversampled conversions for a channel are done consecutively following a trigger" ]
      Single: [ 1, "Each oversampled conversion for a channel needs a new trigger" ]
    OVSS:
      NoShift: [ 0, "No Shift" ]
      Shift1Bit: [ 1, "Shift 1-bit" ]
      Shift2Bit: [ 2, "Shift 2-bit" ]
      Shift3Bit: [ 3, "Shift 3-bit" ]
      Shift4Bit: [ 4, "Shift 4-bit" ]
      Shift5Bit: [ 5, "Shift 5-bit" ]
      Shift6Bit: [ 6, "Shift 6-bit" ]
      Shift7Bit: [ 7, "Shift 7-bit" ]
      Shift8Bit: [ 8, "Shift 8-bit" ]
    OVSR:
      Ratio2: [ 0, "2x" ]
      Ratio4: [ 1, "4x" ]
      Ratio8: [ 2, "8x" ]
      Ratio16: [ 3, "16x" ]
      Ratio32: [ 4, "32x" ]
      Ratio64: [ 5, "64x" ]
      Ratio128: [ 6, "128x" ]
      Ratio256: [ 7, "256x" ]
    JOVSE:
      Disabled: [ 0, "Injected Oversampling disabled" ]
      Enabled: [ 1, "Injected Oversampling enabled" ]
    ROVSE:
      Disabled: [ 0, "Regular Oversampling disabled" ]
      Enabled: [ 1, "Regular Oversampling enabled" ]

  SMPR1:
    SMPPLUS:
      KeepCycles: [ 0, "The sampling time remains set to 2.5 ADC clock cycles remains" ]
      Add1Cycle: [ 1, "2.5 ADC clock cycle sampling time becomes 3.5 ADC clock cycles for the ADC_SMPR1 and ADC_SMPR2 registers" ]

  SMPR?:
    SMP?,SMP??:
      Cycles2_5: [ 0, "2.5 ADC clock cycles" ]
      Cycles6_5: [ 1, "6.5 ADC clock cycles" ]
      Cycles12_5: [ 2, "12.5 ADC clock cycles" ]
      Cycles24_5: [ 3, "24.5 ADC clock cycles" ]
      Cycles47_5: [ 4, "47.5 ADC clock cycles" ]
      Cycles92_5: [ 5, "92.5 ADC clock cycles" ]
      Cycles247_5: [ 6, "247.5 ADC clock cycles" ]
      Cycles640_5: [ 7, "640.5 ADC clock cycles" ]

  TR1:
    HT1: [ 0, 0xFFF ]
    LT1: [ 0, 0xFFF ]

  TR2:
    HT2: [ 0, 0xFF ]
    LT2: [ 0, 0xFF ]

  TR3:
    HT3: [ 0, 0xFF ]
    LT3: [ 0, 0xFF ]

  SQR?:
    SQ*: [ 0, 0x1F ]

  DR:
    RDATA: [ 0, 0xFFFF ]

  OFR?:
    OFFSET?_EN:
      Disabled: [ 0, "This bit is written by software to enable or disable the offset programmed into bits OFFSETy[11:0]" ]
      Enabled: [ 1, "This bit is written by software to enable or disable the offset programmed into bits OFFSETy[11:0]" ]
    OFFSET?_CH: [ 0, 0x1F ]
    OFFSET?: [ 0, 0xFFF ]

  JDR?:
    JDATA: [ 0, 0xFFFF ]

  CALFACT:
    CALFACT_D: [ 0, 0x7F ]
    CALFACT_S: [ 0, 0x7F ]
